//>>built
define(["dojo/_base/lang","./common"],function(h,j){var i=h.getObject("dojox.charting.plot2d.commonStacked",!0);return h.mixin(i,{collectStats:function(g){for(var e=h.delegate(j.defaultStats),f=0;f<g.length;++f)for(var b=g[f],a=0;a<b.data.length;a++){var c,d;if(null!==b.data[a])"number"==typeof b.data[a]||!b.data[a].hasOwnProperty("x")?(d=i.getIndexValue(g,f,a),c=a+1):(c=b.data[a].x,null!==c&&(d=i.getValue(g,f,c),d=null!=d&&d.y?d.y:null)),e.hmin=Math.min(e.hmin,c),e.hmax=Math.max(e.hmax,c),e.vmin=
Math.min(e.vmin,d),e.vmax=Math.max(e.vmax,d)}return e},getIndexValue:function(g,e,f){var b=0,a,c;for(c=0;c<=e;++c)a=g[c].data[f],null!=a&&(isNaN(a)&&(a=a.y||0),b+=a);return b},getValue:function(g,e,f){var b=null,a,c,d;for(a=0;a<=e;++a)for(c=0;c<g[a].data.length;c++)if(d=g[a].data[c],null!==d)if(d.x==f){b||(b={x:f});if(null!=d.y){if(null==b.y)b.y=0;b.y+=d.y}break}else if(d.x>f)break;return b}})});