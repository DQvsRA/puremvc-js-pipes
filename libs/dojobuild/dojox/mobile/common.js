//>>built
define("dojo/_base/array,dojo/_base/config,dojo/_base/connect,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/ready,dijit/registry,./sniff,./uacss".split(","),function(i,e,g,f,d,h,m,n,o,b){var a=f.getObject("dojox.mobile",!0);a.getScreenSize=function(){return{h:d.global.innerHeight||d.doc.documentElement.clientHeight,w:d.global.innerWidth||d.doc.documentElement.clientWidth}};a.updateOrient=function(){var c=a.getScreenSize();h.replace(d.doc.documentElement,c.h>c.w?"dj_portrait":
"dj_landscape",c.h>c.w?"dj_landscape":"dj_portrait")};a.updateOrient();a.tabletSize=500;a.detectScreenSize=function(c){var k=a.getScreenSize(),b=Math.min(k.w,k.h),e,j;if(b>=a.tabletSize&&(c||!this._sz||this._sz<a.tabletSize))e="phone",j="tablet";else if(b<a.tabletSize&&(c||!this._sz||this._sz>=a.tabletSize))e="tablet",j="phone";j&&(h.replace(d.doc.documentElement,"dj_"+j,"dj_"+e),g.publish("/dojox/mobile/screenSize/"+j,[k]));this._sz=b};a.detectScreenSize();a.hideAddressBarWait="number"===typeof e.mblHideAddressBarWait?
e.mblHideAddressBarWait:1500;a.hide_1=function(){scrollTo(0,1);a._hidingTimer=0==a._hidingTimer?200:2*a._hidingTimer;setTimeout(function(){a.isAddressBarHidden()||a._hidingTimer>a.hideAddressBarWait?(a.resizeAll(),a._hiding=!1):setTimeout(a.hide_1,a._hidingTimer)},50)};a.hideAddressBar=function(){if(!a.disableHideAddressBar&&!a._hiding){a._hiding=!0;a._hidingTimer=b("iphone")?200:0;var c=screen.availHeight;if(b("android")){c=outerHeight/devicePixelRatio;if(0==c)a._hiding=!1,setTimeout(function(){a.hideAddressBar()},
200);c<=innerHeight&&(c=outerHeight);if(3>b("android"))d.doc.documentElement.style.overflow=d.body().style.overflow="visible"}if(d.body().offsetHeight<c)d.body().style.minHeight=c+"px",a._resetMinHeight=!0;setTimeout(a.hide_1,a._hidingTimer)}};a.isAddressBarHidden=function(){return 1===pageYOffset};a.resizeAll=function(c,b){if(!a.disableResizeAll){g.publish("/dojox/mobile/resizeAll",[c,b]);g.publish("/dojox/mobile/beforeResizeAll",[c,b]);if(a._resetMinHeight)d.body().style.minHeight=a.getScreenSize().h+
"px";a.updateOrient();a.detectScreenSize();var e=function(a){var b=a.getParent&&a.getParent();return!(b&&b.resize||!a.resize)},f=function(a){i.forEach(a.getChildren(),function(a){e(a)&&a.resize();f(a)})};b?(b.resize&&b.resize(),f(b)):i.forEach(i.filter(o.toArray(),e),function(a){a.resize()});g.publish("/dojox/mobile/afterResizeAll",[c,b])}};a.openWindow=function(a,b){d.global.open(a,b||"_blank")};!1!==e.mblApplyPageStyles&&h.add(d.doc.documentElement,"mobile");b("chrome")&&h.add(d.doc.documentElement,
"dj_chrome");if(d.global._no_dojo_dm){var f=d.global._no_dojo_dm,l;for(l in f)a[l]=f[l];a.deviceTheme.setDm(a)}b.add("mblAndroidWorkaround",!1!==e.mblAndroidWorkaround&&3>b("android"),void 0,!0);b.add("mblAndroid3Workaround",!1!==e.mblAndroid3Workaround&&3<=b("android"),void 0,!0);n(function(){a.detectScreenSize(!0);!1!==e.mblAndroidWorkaroundButtonStyle&&b("android")&&m.create("style",{innerHTML:"BUTTON,INPUT[type='button'],INPUT[type='submit'],INPUT[type='reset'],INPUT[type='file']::-webkit-file-upload-button{-webkit-appearance:none;}"},
d.doc.head,"first");b("mblAndroidWorkaround")&&m.create("style",{innerHTML:".mblView.mblAndroidWorkaround{position:absolute;top:-9999px !important;left:-9999px !important;}"},d.doc.head,"last");var c=a.resizeAll;if(!1!==e.mblHideAddressBar&&-1!=navigator.appVersion.indexOf("Mobile")||!0===e.mblForceHideAddressBar)if(a.hideAddressBar(),!0===e.mblAlwaysHideAddressBar)c=a.hideAddressBar;if((b("android")||6<=b("iphone"))&&void 0!==d.global.onorientationchange){var f=c,c=function(){var a=g.connect(null,
"onresize",null,function(b){g.disconnect(a);f(b)})},h=a.getScreenSize(),i=b("android")?100:20;g.connect(null,"onresize",null,function(b){var c=a.getScreenSize();c.w==h.w&&Math.abs(c.h-h.h)>=i&&f(b);h=c})}g.connect(null,void 0!==d.global.onorientationchange?"onorientationchange":"onresize",null,c);d.body().style.visibility="visible"});return a});