//>>built
define("dojo/_base/kernel,dojo/_base/declare,dojo/_base/Deferred,dojo/on,dojo/aspect,dojo/query,dojo/has,put-selector/put,xstyle/has-class,./Grid,dojo/_base/sniff,xstyle/css!./css/columnset.css".split(","),function(q,r,s,o,p,m,l,k,t){function n(a){var d=a.domNode,b=a._columnSetScrollers,c=a._columnSetScrollerContents,e=a.columnSets,f=a=0,g,h;for(g=0,e=e.length;g<e;g++)a+=f,h=m(".dgrid-column-set["+i+'="'+g+'"]',d)[0],f=h.offsetWidth,h=h.firstChild.offsetWidth,c[g].style.width=h+"px",b[g].style.width=
f+"px",b[g].style.overflowX=h>f?"scroll":"auto",b[g].style.left=a+"px"}function u(a,d){function b(){m(".dgrid-column-set",d).forEach(function(a){a.scrollLeft=c[a.getAttribute(i)]})}var c=a._columnSetScrollLefts;8>l("ie")||l("quirks")?setTimeout(b,1):b()}var i="data-dgrid-column-set-id";t("safari","ie-7");return r(null,{columnSets:[],createRowCells:function(a,d){for(var b=k("table.dgrid-row-table"),c=k(b,"tbody tr"),e=0,f=this.columnSets.length;e<f;e++)k(c,a+".dgrid-column-set-cell.dgrid-column-set-"+
e+" div.dgrid-column-set["+i+"="+e+"]").appendChild(this.inherited(arguments,[a,d,this.columnSets[e]]));return b},renderArray:function(){var a=this,d=this.inherited(arguments);s.when(d,function(b){for(var c=0;c<b.length;c++)u(a,b[c])});return d},renderHeader:function(){function a(){var a=this.scrollLeft,b=this.getAttribute(i);h[b]!=a&&(h[b]=a,m(".dgrid-column-set["+i+'="'+b+'"],.dgrid-column-set-scroller['+i+'="'+b+'"]',e).forEach(function(b){b.scrollLeft=a}))}function d(b,c){var d=f[c]=k(e,"div.dgrid-column-set-scroller.dgrid-scrollbar-height.dgrid-column-set-scroller-"+
c+"["+i+"="+c+"]");g[c]=k(d,"div.dgrid-column-set-scroller-content");o(d,"scroll",a)}function b(){n(v)}this.inherited(arguments);this.bodyNode.style.bottom="17px";var c=this.columnSets,e=this.domNode,f=this._columnSetScrollers,g=this._columnSetScrollerContents={},h=this._columnSetScrollLefts={},v=this,j,l;if(f)for(j in f)k("!",f[j]);else p.after(this,"resize",b,!0),p.after(this,"styleColumn",b,!0),o(e,".dgrid-column-set:dgrid-cellfocusin",a);f=this._columnSetScrollers={};for(j=0,l=c.length;j<l;j++)d(c[j],
j);n(this)},styleColumnSet:function(a,d){var b=this.addCssRule("#"+this.domNode.id+" .dgrid-column-set-"+a,d);n(this);return b},_destroyColumns:function(){var a=this.columnSets.length,d,b,c,e,f,g,h,i;for(d=0;d<a;d++){g=this.columnSets[d];for(b=0,e=g.length;b<e;b++){h=g[b];for(c=0,f=h.length;c<f;c++)i=h[c],"function"===typeof i.destroy&&i.destroy()}}},configStructure:function(){this.columns={};for(var a=0,d=this.columnSets.length;a<d;a++)for(var b=this.columnSets[a],c=0;c<b.length;c++)b[c]=this._configColumns(a+
"-"+c+"-",b[c])},_setColumnSets:function(a){this._destroyColumns();this.columnSets=a;this._updateColumns()},setColumnSets:function(a){q.deprecated("setColumnSets(...)",'use set("columnSets", ...) instead',"dgrid 1.0");this.set("columnSets",a)}})});